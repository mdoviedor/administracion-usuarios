{% extends "::administrador.html.twig" %}
{% block title %}
    Aseduis
{% endblock %}

{% block titulo %}
    <h2>Egresado: <small>Crear.</small></h2>
{% endblock %}


{% block contenido %}
    <form style="width: 800px;" role="form" class="form-horizontal center-block" action="{{ path('aseduis_egresados_crear') }}" method="post" {{ form_enctype(formEgresado) }} >

        {{ form_errors(formEgresado) }}       
        <div class="row">
            <div class="col-md-12" style="background: #f8f8f8; border: 1px solid #FFFFFF;"><h4>Información</h4></div>           
        </div>
        <br>
        <div class="form-group">
            {{ form_label(formEgresado.identificacion.first, null, {'label_attr': {'class': 'col-sm-3 control-label'}}) }}            
            <div class="col-sm-8">
                {{ form_errors(formEgresado.identificacion.first) }}
                {{ form_widget(formEgresado.identificacion.first) }}
            </div>
        </div>
        <div class="form-group">
            {{ form_label(formEgresado.identificacion.second, null, {'label_attr': {'class': 'col-sm-3 control-label'}}) }}            
            <div class="col-sm-8">
                {{ form_errors(formEgresado.identificacion.second) }}
                {{ form_widget(formEgresado.identificacion.second) }}
            </div>
        </div>
        <div class="form-group">
            {{ form_label(formEgresado.tipoidentificacion, null, {'label_attr': {'class': 'col-sm-3 control-label'}}) }}            
            <div class="col-sm-8">
                {{ form_errors(formEgresado.tipoidentificacion) }}
                {{ form_widget(formEgresado.tipoidentificacion) }}
            </div>
        </div>
        <div class="form-group">
            {{ form_label(formEgresado.correoElectronico.first, null, {'label_attr': {'class': 'col-sm-3 control-label'}}) }}            
            <div class="col-sm-8">
                {{ form_errors(formEgresado.correoElectronico.first) }}
                {{ form_widget(formEgresado.correoElectronico.first) }}
            </div>
        </div>
        <div class="form-group">
            {{ form_label(formEgresado.correoElectronico.second, null, {'label_attr': {'class': 'col-sm-3 control-label'}}) }}            
            <div class="col-sm-8">
                {{ form_errors(formEgresado.correoElectronico.second) }}
                {{ form_widget(formEgresado.correoElectronico.second) }}
            </div>
        </div>
        <div class="form-group">
            {{ form_label(formEgresado.primernombre, null, {'label_attr': {'class': 'col-sm-3 control-label'}}) }}            
            <div class="col-sm-8">
                {{ form_errors(formEgresado.primernombre) }}
                {{ form_widget(formEgresado.primernombre) }}
            </div>
        </div>
        <div class="form-group">
            {{ form_label(formEgresado.segundonombre, null, {'label_attr': {'class': 'col-sm-3 control-label'}}) }}            
            <div class="col-sm-8">
                {{ form_errors(formEgresado.segundonombre) }}
                {{ form_widget(formEgresado.segundonombre) }}
            </div>
        </div>
        <div class="form-group">
            {{ form_label(formEgresado.primerapellido, null, {'label_attr': {'class': 'col-sm-3 control-label'}}) }}            
            <div class="col-sm-8">
                {{ form_errors(formEgresado.primerapellido) }}
                {{ form_widget(formEgresado.primerapellido) }}
            </div>
        </div>
        <div class="form-group">
            {{ form_label(formEgresado.segundoapellido, null, {'label_attr': {'class': 'col-sm-3 control-label'}}) }}            
            <div class="col-sm-8">
                {{ form_errors(formEgresado.segundoapellido) }}
                {{ form_widget(formEgresado.segundoapellido) }}
            </div>
        </div>   
        <div class="row">
            <div class="col-md-12" style="background: #f8f8f8; border: 1px solid #FFFFFF;"><h4>Teléfonos</h4></div>           
        </div>
        <br>
        <div class="form-group">
            {{ form_label(formEgresado.telefonofijo, null, {'label_attr': {'class': 'col-sm-3 control-label'}}) }}            
            <div class="col-sm-8">
                {{ form_errors(formEgresado.telefonofijo) }}
                {{ form_widget(formEgresado.telefonofijo) }}
            </div>
        </div>
        <div class="form-group">
            {{ form_label(formEgresado.celular, null, {'label_attr': {'class': 'col-sm-3 control-label'}}) }}            
            <div class="col-sm-8">
                {{ form_errors(formEgresado.celular) }}
                {{ form_widget(formEgresado.celular) }}
            </div>
        </div>
        <div class="row">
            <div class="col-md-12" style="background: #f8f8f8; border: 1px solid #FFFFFF;"><h4>Información Complementaria</h4></div>           
        </div>
        <br>
        <label>Ciudad de residencia</label>
        <div class="form-group">
            <label class="col-sm-3 control-label">Departamento:</label>
            <div class="col-sm-8">
                <select id="departamentoCiudad" name="departamentoCiudad" class="form-control" required="true">
                    <option value="">SELECCIONAR</option>
                    {% for departamento in departamentos %}
                        <option value="{{departamento.iddepartamento}}">{{departamento.nombre}}</option>
                    {% endfor %}
                </select>
                <p class="help-block">Seleccione el departamento al que pertenece la ciudad de residencia. </p>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">Ciudad:</label>
            <div class="col-sm-8">
                <div id="respuestaDepartamentoCiudad">

                </div>
            </div>
        </div> 
        <div class="form-group">
            {{ form_label(formEgresado.direccionresidencia, null, {'label_attr': {'class': 'col-sm-3 control-label'}}) }}            
            <div class="col-sm-8">
                {{ form_errors(formEgresado.direccionresidencia) }}
                {{ form_widget(formEgresado.direccionresidencia) }}
            </div>
        </div>

        <div class="form-group">
            {{ form_label(formEgresado.noticias, null, {'label_attr': {'class': 'col-sm-3 control-label'}}) }}            
            <div class="col-sm-8">
                {{ form_errors(formEgresado.noticias) }}
                {{ form_widget(formEgresado.noticias) }}
            </div>
        </div>
        <div class="form-group">
            {{ form_label(formEgresado.genero, null, {'label_attr': {'class': 'col-sm-3 control-label'}}) }}            
            <div class="col-sm-8">
                {{ form_errors(formEgresado.genero) }}
                {{ form_widget(formEgresado.genero) }}
            </div>
        </div>
        <div class="form-group">
            {{ form_label(formEgresado.tiposangre, null, {'label_attr': {'class': 'col-sm-3 control-label'}}) }}            
            <div class="col-sm-8">
                {{ form_errors(formEgresado.tiposangre) }}
                {{ form_widget(formEgresado.tiposangre) }}
            </div>
        </div>       
        {{ form_rest(formEgresado) }}  
      
        <div style="text-align: right">
            <button type="submit" class="btn btn-success btn-lg"  >
                <span class="glyphicon glyphicon-save"></span>Guardar</button>
            <a type="button" class="btn btn-default btn-lg" href="#"  >
                <span class="glyphicon glyphicon-log-out"></span> Salir</a>
        </div>
    </form>
{% endblock %}


{% block javascripts %}
    <script type="text/javascript">
        var x;
        x = $(document);
        x.ready(inicializarEventos);

        function inicializarEventos() {

            var slDepartamentoCiudad;
            slDepartamentoCiudad = $('#departamentoCiudad');
            slDepartamentoCiudad.change(buscarCiudadDepartamento);

            var slDepartamentoCiudadEmpresa;
            slDepartamentoCiudadEmpresa = $('#departamentoCiudadEmpresa');
            slDepartamentoCiudadEmpresa.change(buscarCiudadDepartamentoEmpresa);

        }
        {# 
            Buscar la ciudad de origen a partir del departamento seleccionado 
        #}
            function buscarCiudadDepartamento() {

                var slDepartamentoCiudad;
                slDepartamentoCiudad = $('#departamentoCiudad').val();
                var url;
                url = "{{ path('aseduis_frontal_general_buscarciudad', {'id': 'text', 'funcion':'listaCiudad'}) }}";
                url = url.replace("text", slDepartamentoCiudad);

                $('#respuestaDepartamentoCiudad').load(url);

            }
        {# 
             Buscar la ciudad en donde se encuentra ubicada la empresa
        #}
            function buscarCiudadDepartamentoEmpresa() {

                var slDepartamentoCiudadEmpresa;
                slDepartamentoCiudadEmpresa = $('#departamentoCiudadEmpresa').val();
                var url;
                url = "{{ path('aseduis_frontal_general_buscarciudad', {'id': 'text', 'funcion':'listaCiudadEmpresa'}) }}";
                url = url.replace("text", slDepartamentoCiudadEmpresa);

                $('#respuestaDepartamentoCiudadEmpresa').load(url);

            }
    </script>
{% endblock %}
